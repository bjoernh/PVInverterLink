# Test Environment Configuration
# Copy this file to .env.test and update with your actual values

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=postgresql+asyncpg://deyehard:CHANGE_PASSWORD_TEST@db-test:5432/deyehard
POSTGRES_USER=deyehard
POSTGRES_PASSWORD=CHANGE_PASSWORD_TEST
POSTGRES_DB=deyehard

# =============================================================================
# Security Settings
# =============================================================================
# Generate AUTH_SECRET: openssl rand -hex 32
AUTH_SECRET=GENERATE_32_CHARACTER_RANDOM_STRING_HERE

# Generate ENCRYPTION_KEY: python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=GENERATE_FERNET_KEY_BASE64_HERE

# Cookie security (False for HTTP, True for HTTPS)
COOKIE_SECURE=False

# =============================================================================
# Application Settings
# =============================================================================
BASE_URL=http://test.yourdomain.com
TZ=Europe/Berlin

# Store detailed DC channel (MPPT) measurements
STORE_DC_CHANNEL_DATA=true

# =============================================================================
# Email Configuration (Optional for testing)
# =============================================================================
# Email sending can be suppressed in test environment
FASTMAIL__SUPPRESS_SEND=true
FASTMAIL__MAIL_USERNAME=test@yourdomain.com
FASTMAIL__MAIL_PASSWORD=your-smtp-password
FASTMAIL__MAIL_FROM=noreply-test@yourdomain.com
FASTMAIL__MAIL_SERVER=smtp.yourdomain.com
FASTMAIL__MAIL_PORT=587
FASTMAIL__MAIL_FROM_NAME=Solar Backend Test
FASTMAIL__MAIL_STARTTLS=true
FASTMAIL__MAIL_SSL_TLS=false
FASTMAIL__USE_CREDENTIALS=true
FASTMAIL__VALIDATE_CERTS=true

# =============================================================================
# OpenTelemetry Configuration
# =============================================================================
OTEL_EXPORTER_OTLP_ENDPOINT=http://signoz-otel-collector-test:4317
OTEL_SERVICE_NAME=solar-backend-test
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=otlp
OTEL_LOGS_EXPORTER=otlp

# =============================================================================
# Collector Configuration
# =============================================================================
COLLECTOR_PORT=10000
COLLECTOR_BACKEND_URL=http://backend-test:80

# =============================================================================
# Monitoring & Observability
# =============================================================================
# SignOz ClickHouse credentials
CLICKHOUSE_USER=signoz
CLICKHOUSE_PASSWORD=signoz_password_test
CLICKHOUSE_DB=signoz

# =============================================================================
# Advanced Settings (Usually don't need to change)
# =============================================================================
# SQLAlchemy query logging (True = verbose DB logs)
DEBUG=False

# Legacy flag (can be removed in future)
WEB_DEV_TESTING=False
